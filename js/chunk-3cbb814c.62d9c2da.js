(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cbb814c"],{"11ee":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入问卷名称"},on:{blur:e.stringify},model:{value:e.paperVO.paper.paperName,callback:function(t){e.$set(e.paperVO.paper,"paperName",t)},expression:"paperVO.paper.paperName"}})],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{size:"small",type:"success"},on:{click:e.selectSingle}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加单选题 ")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{size:"small",type:"success"},on:{click:e.selectMany}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加多选题 ")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{size:"small",type:"success"},on:{click:e.selectJudge}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加判断题 ")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{size:"small",type:"warning"},on:{click:e.post}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("发布问卷 ")])],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("IssueList",{key:e.timer})],1)],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.issueVOs}},[(e.show=!1)?r("el-table-column",{attrs:{label:"题目ID",prop:"issueID"}}):e._e(),r("el-table-column",{attrs:{label:"题目",prop:"issueContent"}}),r("el-table-column",{attrs:{label:"选项A",prop:"optionA"}}),r("el-table-column",{attrs:{label:"选项B",prop:"optionB"}}),r("el-table-column",{attrs:{label:"选项C",prop:"optionC"}}),r("el-table-column",{attrs:{label:"选项D",prop:"optionD"}}),r("el-table-column",{attrs:{label:"答案",prop:"answer"}}),r("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:function(r){return e.add(t.row)}}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加该题 ")])]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"设置该题分值",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"point",attrs:{rules:e.rules,model:e.paperIssue}},[r("el-form-item",{attrs:{label:"该题分值为：","label-width":e.formLabelWidth,prop:"point"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.paperIssue.point,callback:function(t){e.$set(e.paperIssue,"point",t)},expression:"paperIssue.point"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.resetForm("point")}}},[e._v("重 置")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.Post("point")}}},[e._v("添 加")])],1)],1),r("el-row",[r("el-col",[r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)},i=[],a={data:function(){return{dialogFormVisible:!1,currentPage:1,total:0,issueVOs:[],paperIssue:{issueID:0,issueTypeID:sessionStorage.getItem("issueTypeID"),issueNum:0,answer:"",point:0},formLabelWidth:"120px",rules:{point:[{required:!0,message:"请输入题目分值",trigger:"blur"}]}}},methods:{add:function(e){this.paperIssue.issueID=e.issueID,this.paperIssue.answer=e.answer,this.dialogFormVisible=!0},Post:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var r=JSON.parse(sessionStorage.getItem("paperVO"));t.paperIssue.issueNum=r.paperIssues.length+1,r.paperIssues.push(t.paperIssue);var o=JSON.stringify(r);sessionStorage.setItem("paperVO",o),console.log("最新问卷信息："+o),t.$message({showClose:!0,message:"题目 + 1",type:"success"}),t.dialogFormVisible=!1}else t.$message({showClose:!0,message:"请先输入题目分值！",type:"error"})}))},resetForm:function(e){this.$refs[e].resetFields()},handleCurrentChange:function(e){var t=this;this.currentPage=e;var r="http://localhost:8888/paper/single/"+e+"/5";this.axios.get(r).then((function(e){console.log("分页响应对象："+e),t.issueVOs=e.data.records,t.total=e.data.total})).catch((function(e){console.log(e)}))},getData:function(){var e=this,t=sessionStorage.getItem("issueTypeID");if(1==t){var r="http://localhost:8888/paper/single/1/5";this.axios.get(r).then((function(t){console.log(t),e.issueVOs=t.data.records,e.total=t.data.total})).catch((function(e){console.log(e)}))}else if(2==t){r="http://localhost:8888/paper/many/1/5";this.axios.get(r).then((function(t){console.log(t),e.issueVOs=t.data.records,e.total=t.data.total})).catch((function(e){console.log(e)}))}else{if(3!=t)return null;r="http://localhost:8888/paper/judge/1/5";this.axios.get(r).then((function(t){console.log(t),e.issueVOs=t.data.records,e.total=t.data.total})).catch((function(e){console.log(e)}))}}},created:function(){this.getData()}},l=a,c=r("2877"),u=Object(c["a"])(l,s,i,!1,null,"6c68c34a",null),p=u.exports,f=(r("4328"),{components:{IssueList:p},data:function(){return{timer:"",paperVO:{paper:{paperName:""},paperIssues:[]}}},methods:{post:function(){var e=this,t=JSON.parse(sessionStorage.getItem("paperVO"));console.log("post问卷对象："+sessionStorage.getItem("paperVO"));var r="http://localhost:8888/paper/add/paper";this.axios.post(r,t).then((function(t){console.log(t),200==t.status&&(e.$message({showClose:!0,message:"发布成功",type:"success"}),e.$router.push({name:"paperList",params:{current:1,size:5}}))})).catch((function(t){console.log(t),e.$message({showClose:!0,message:"操作失败，请联系维护人员",type:"error"})}))},stringify:function(){var e=JSON.stringify(this.paperVO);sessionStorage.setItem("paperVO",e)},selectSingle:function(){sessionStorage.setItem("issueTypeID",1),this.timer=(new Date).getTime()},selectMany:function(){sessionStorage.setItem("issueTypeID",2),this.timer=(new Date).getTime()},selectJudge:function(){sessionStorage.setItem("issueTypeID",3),this.timer=(new Date).getTime()}}}),d=f,m=Object(c["a"])(d,o,n,!1,null,"70e7b24f",null);t["default"]=m.exports},4127:function(e,t,r){"use strict";var o=r("d233"),n=r("b313"),s=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,formatter:n.formatters[n["default"]],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,n,s,i,l,u,f,d,m,h,y,g){var b=t;if("function"===typeof u?b=u(r,b):b instanceof Date?b=m(b):"comma"===n&&a(b)&&(b=b.join(",")),null===b){if(s)return l&&!y?l(r,p.encoder,g):r;b=""}if("string"===typeof b||"number"===typeof b||"boolean"===typeof b||o.isBuffer(b)){if(l){var v=y?r:l(r,p.encoder,g);return[h(v)+"="+h(l(b,p.encoder,g))]}return[h(r)+"="+h(String(b))]}var O,w=[];if("undefined"===typeof b)return w;if(a(u))O=u;else{var j=Object.keys(b);O=f?j.sort(f):j}for(var I=0;I<O.length;++I){var x=O[I];i&&null===b[x]||(a(b)?c(w,e(b[x],"function"===typeof n?n(r,x):r,n,s,i,l,u,f,d,m,h,y,g)):c(w,e(b[x],r+(d?"."+x:"["+x+"]"),n,s,i,l,u,f,d,m,h,y,g)))}return w},d=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n["default"];if("undefined"!==typeof e.format){if(!s.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],i=p.filter;return("function"===typeof e.filter||a(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?p.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:p.encode,encoder:"function"===typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,formatter:o,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};e.exports=function(e,t){var r,o,n=e,s=d(t);"function"===typeof s.filter?(o=s.filter,n=o("",n)):a(s.filter)&&(o=s.filter,r=o);var l,u=[];if("object"!==typeof n||null===n)return"";l=t&&t.arrayFormat in i?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=i[l];r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);for(var m=0;m<r.length;++m){var h=r[m];s.skipNulls&&null===n[h]||c(u,f(n[h],h,p,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.formatter,s.encodeValuesOnly,s.charset))}var y=u.join(s.delimiter),g=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},4328:function(e,t,r){"use strict";var o=r("4127"),n=r("9e6a"),s=r("b313");e.exports={formats:s,parse:n,stringify:o}},"9e6a":function(e,t,r){"use strict";var o=r("d233"),n=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},a="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",c=function(e,t){var r,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,f=u.split(t.delimiter,p),d=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&(f[r]===l?m="utf-8":f[r]===a&&(m="iso-8859-1"),d=r,r=f.length);for(r=0;r<f.length;++r)if(r!==d){var h,y,g=f[r],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(h=t.decoder(g,s.decoder,m),y=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,v),s.decoder,m),y=t.decoder(g.slice(v+1),s.decoder,m)),y&&t.interpretNumericEntities&&"iso-8859-1"===m&&(y=i(y)),y&&t.comma&&y.indexOf(",")>-1&&(y=y.split(",")),n.call(c,h)?c[h]=o.combine(c[h],y):c[h]=y}return c},u=function(e,t,r){for(var o=t,n=e.length-1;n>=0;--n){var s,i=e[n];if("[]"===i&&r.parseArrays)s=[].concat(o);else{s=r.plainObjects?Object.create(null):{};var a="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,l=parseInt(a,10);r.parseArrays||""!==a?!isNaN(l)&&i!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[],s[l]=o):s[a]=o:s={0:o}}o=s}return o},p=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=s.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}var p=0;while(null!==(a=i.exec(o))&&p<r.depth){if(p+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),u(c,t,r)}},f=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?s.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:s.comma,decoder:"function"===typeof e.decoder?e.decoder:s.decoder,delimiter:"string"===typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"===typeof e.depth?e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}};e.exports=function(e,t){var r=f(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?c(e,r):e,s=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],u=p(l,n[l],r);s=o.merge(s,u,r)}return o.compact(s)}},b313:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){while(e.length>1){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],s=0;s<r.length;++s)"undefined"!==typeof r[s]&&o.push(r[s]);t.obj[t.prop]=o}}},a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(r[o]=e[o]);return r},l=function e(t,r,s){if(!r)return t;if("object"!==typeof r){if(n(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var i=t;return n(t)&&!n(r)&&(i=a(t,s)),n(t)&&n(r)?(r.forEach((function(r,n){if(o.call(t,n)){var i=t[n];i&&"object"===typeof i&&r&&"object"===typeof r?t[n]=e(i,r,s):t.push(r)}else t[n]=r})),t):Object.keys(r).reduce((function(t,n){var i=r[n];return o.call(t,n)?t[n]=e(t[n],i,s):t[n]=i,t}),i)},c=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},u=function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(n){return o}},p=function(e,t,r){if(0===e.length)return e;var o="string"===typeof e?e:String(e);if("iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var n="",i=0;i<o.length;++i){var a=o.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=o.charAt(i):a<128?n+=s[a]:a<2048?n+=s[192|a>>6]+s[128|63&a]:a<55296||a>=57344?n+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(i)),n+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return n},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],s=n.obj[n.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"===typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:s,prop:c}),r.push(u))}return i(t),e},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},h=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:a,assign:c,combine:h,compact:f,decode:u,encode:p,isBuffer:m,isRegExp:d,merge:l}}}]);
//# sourceMappingURL=chunk-3cbb814c.62d9c2da.js.map